<mat-card class="container">
  <form [formGroup]="form" appearance="standard">
    <mat-card-header>
      <mat-card-title>Formulario Contrato</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="row">
        <mat-label
          ><strong>Contrato Nº {{ numContrato }}</strong></mat-label
        >
      </div>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Fecha Contrato</mat-label>
        <input
          matInput
          [matDatepicker]="myDatepicker"
          autocomplete="off"
          formControlName="fechaContrato"
          [(ngModel)]="lista.fechaContrato"
        />
      </mat-form-field>
      <mat-datepicker-toggle [for]="myDatepicker"></mat-datepicker-toggle>
      <mat-datepicker #myDatepicker></mat-datepicker>
    </mat-card-content>
    <mat-card-content>
      <mat-label><strong>Representante</strong><br /></mat-label>
      <button mat-raised-button color="accent" (click)="openDialog()">
        Nuevo Representante
      </button>
      <br />
      <mat-form-field appearance="standard">
        <mat-label>Buscar representante por cédula</mat-label>
        <input
          matInput
          (keyup)="filtrarRepre($event)"
          autocomplete="off"
          formControlName="repreId"
          #input
          [(ngModel)]="lista.representante.identificacion"
        />
        <div id="example23_filter" class="dataTables_filter"></div>
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Primer Apellido: </mat-label>
        <input
          matInput
          autocomplete="off"
          formControlName="repreApellido"
          [(ngModel)]="lista.representante.apellidoPrimer"
        />

        {{ representante.apellidoPrimer }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Segundo Apellido: </mat-label>
        <input
          matInput
          autocomplete="off"
          formControlName="repreApellido2"
          [(ngModel)]="lista.representante.apellidoSegundo"
        />

        {{ representante.apellidoPrimer }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Nombre: </mat-label>
        <input
          matInput
          autocomplete="off"
          formControlName="repreNombre"
          [(ngModel)]="lista.representante.nombrePrimer"
        />
        {{ representante.nombrePrimer }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Paretezco</mat-label>
        <mat-select
          formControlName="parentezco"
          [(ngModel)]="listaParentezco.relacionParentezco"
        >
          <mat-option value="1"> Abuelo</mat-option>
          <mat-option value="2"> Abuela</mat-option>
          <mat-option value="3"> Bisabuela</mat-option>
          <mat-option value="4"> Bisabuelo</mat-option>
          <mat-option value="5"> Cuñada</mat-option>
          <mat-option value="6"> Cuñado</mat-option>
          <mat-option value="7"> Hermanastra</mat-option>
          <mat-option value="8"> Hermanastro </mat-option>
          <mat-option value="9"> Hijastro</mat-option>
          <mat-option value="10"> Hijastra</mat-option>
          <mat-option value="11"> Madre</mat-option>
          <mat-option value="12"> Madrastra</mat-option>
          <mat-option value="13"> Nieto</mat-option>
          <mat-option value="14"> Nieta</mat-option>
          <mat-option value="15"> Nuera</mat-option>
          <mat-option value="16"> Padre</mat-option>
          <mat-option value="17"> Padrastro</mat-option>
          <mat-option value="18"> Primo</mat-option>
          <mat-option value="19"> Prima</mat-option>
          <mat-option value="20"> Sobrino</mat-option>
          <mat-option value="21"> Sobrina</mat-option>
          <mat-option value="22"> Suegro</mat-option>
          <mat-option value="23"> Suegra</mat-option>
          <mat-option value="24"> Tío</mat-option>
          <mat-option value="25"> Tía</mat-option>
          <mat-option value="26"> Yerno</mat-option>
          <mat-option value="27"> </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-content>
      <mat-label><strong>Alumno</strong><br /></mat-label>
      <mat-form-field style="width: 130px" appearance="legacy">
        <mat-label>Cedula: </mat-label>

        <input
          matInput
          formControlName="alumnoId"
          [(ngModel)]="lista.matricula.alumno.identificacion"
        />
        {{ matricula.alumno.identificacion }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Primer Apellido: </mat-label>
        <input
          matInput
          formControlName="alumnoApellido"
          [(ngModel)]="lista.matricula.alumno.apellidoPrimer"
        />
        {{ matricula.alumno.apellidoPrimer }}
      </mat-form-field>
      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Segundo Apellido: </mat-label>
        <input
          matInput
          formControlName="alumnoApellido2"
          [(ngModel)]="lista.matricula.alumno.apellidoSegundo"
        />

        {{ matricula.alumno.apellidoSegundo }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label> Primer Nombre : </mat-label>
        <input
          matInput
          formControlName="alumnoNombre"
          [(ngModel)]="lista.matricula.alumno.nombrePrimer"
        />

        {{ matricula.alumno.nombrePrimer }}
      </mat-form-field>
      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label>Segundo Nombre : </mat-label>
        <input
          matInput
          formControlName="alumnoNombre2"
          [(ngModel)]="lista.matricula.alumno.nombreSegundo"
        />

        {{ matricula.alumno.nombreSegundo }}
      </mat-form-field>
      <mat-form-field style="width: 180px" appearance="legacy">
        <mat-label> Fecha de Nacimiento: </mat-label>
        <input
          matInput
          formControlName="alumnoFechaNa"
          [(ngModel)]="lista.matricula.alumno.fechaNacimiento"
        />
        {{ matricula.alumno.fechaNacimiento }}
      </mat-form-field>

      <mat-form-field style="width: 110px" appearance="legacy">
        <mat-label> Sexo: </mat-label>
        <input
          matInput
          formControlName="alumnoSexo"
          [(ngModel)]="lista.matricula.alumno.sexo"
        />
        {{ matricula.alumno.sexo }}
      </mat-form-field>

      <mat-form-field style="width: 300px" appearance="legacy">
        <mat-label> Direccion </mat-label>
        <input
          matInput
          formControlName="alumnoDir"
          [(ngModel)]="lista.matricula.alumno.direccion"
        />
        {{ matricula.alumno.direccion }}
      </mat-form-field>

      <mat-form-field style="width: 120px" appearance="legacy">
        <mat-label> Teléfono: </mat-label>
        <input
          matInput
          formControlName="alumnoTelf"
          [(ngModel)]="lista.matricula.alumno.telefono"
        />
        {{ matricula.alumno.telefono }}
      </mat-form-field>

      <mat-form-field style="width: 250px" appearance="legacy">
        <mat-label> Ocupación: </mat-label>
        <input
          matInput
          formControlName="alumnoOcu"
          [(ngModel)]="lista.matricula.alumno.ocupacion"
        />
        {{ matricula.alumno.ocupacion }}
      </mat-form-field>
      <mat-form-field style="width: 250px" appearance="legacy">
        <mat-label> Cargo: </mat-label>
        <input
          matInput
          formControlName="alumnoCargo"
          [(ngModel)]="lista.matricula.alumno.cargo"
        />
        {{ matricula.alumno.cargo }}
      </mat-form-field>
    </mat-card-content>

    <mat-card-content>
      <mat-label><strong>Materia</strong><br /></mat-label>

      <mat-form-field style="width: 250px" appearance="legacy">
        <mat-label> Curso: </mat-label>
        <input
          matInput
          formControlName="cursoNombre"
          [(ngModel)]="lista.matricula.curso.catalogo.nombre"
        />
        {{ matricula.curso.catalogo.nombre }}
      </mat-form-field>

      <mat-form-field style="width: 500px" appearance="legacy">
        <mat-label> Descripción: </mat-label>
        <textarea
          matInput
          formControlName="cursoDes"
          [(ngModel)]="lista.matricula.curso.catalogo.descripcion"
       ></textarea>
        {{ matricula.curso.catalogo.descripcion }}
      </mat-form-field>

      <mat-form-field style="width: 100px" appearance="legacy">
        <mat-label>Duracion</mat-label>
        <input
          matInput
          type="number"
          autocomplete="off"
          formControlName="cursoDuracion"
          [(ngModel)]="lista.matricula.curso.catalogo.duracion"
        />{{ matricula.curso.catalogo.duracion }}
      </mat-form-field>

      <mat-form-field style="width: 500px" appearance="legacy">
        <mat-label> Seminarios: </mat-label>
        <input
          matInput
          formControlName="cursoSeminarios"
          [(ngModel)]="lista.matricula.curso.seminarios"
        />
        {{ matricula.curso.seminarios }}
      </mat-form-field>
    </mat-card-content>
    <mat-card-content>
      <mat-label><strong>Horarios</strong><br /></mat-label>
      <mat-form-field style="width: 350px" appearance="legacy">
        <mat-label> Dias: </mat-label>
        <input
          matInput
          formControlName="cursoDias"
          [(ngModel)]="lista.matricula.curso.horario.dias"
        />
        {{ matricula.curso.horario.dias }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label> Hora Inicio: </mat-label>
        <input
          matInput
          formControlName="cursoHinicio"
          [(ngModel)]="lista.matricula.curso.horario.horaInicio"
        />
        {{ matricula.curso.horario.horaInicio }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label> Hora Fin: </mat-label>
        <input
          matInput
          formControlName="cursoHfin"
          [(ngModel)]="lista.matricula.curso.horario.horaFin"
        />
        {{ matricula.curso.horario.horaFin }}
      </mat-form-field>
    </mat-card-content>
    <mat-card-content>
      <mat-label><strong>Pensiones</strong><br /></mat-label>
      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label> Valor Matricula: </mat-label>
        <input
          matInput
          formControlName="cursoValorM"
          [(ngModel)]="lista.matricula.curso.valorMatricula"
        />
        {{ matricula.curso.valorMatricula }}
      </mat-form-field>

      <mat-form-field style="width: 150px" appearance="legacy">
        <mat-label> Valor Curso: </mat-label>
        <input
          matInput
          formControlName="cursoValorC"
          [(ngModel)]="lista.matricula.curso.valorCurso"
        />
        {{ matricula.curso.valorCurso }}
      </mat-form-field>

      <mat-form-field style="width: 160px" appearance="legacy">
        <mat-label>Forma de pago</mat-label>
        <mat-select formControlName="formaPago" [(ngModel)]="lista.formaPago">
          <mat-option value="mensual">Mensual</mat-option>
          <mat-option value="Semanal">Semanal</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-content>
      <mat-form-field style="width: 130px" appearance="legacy">
        <mat-label>Estado</mat-label>
        <mat-select formControlName="estado" [(ngModel)]="lista.estado">
          <mat-option value="Activo">Activo</mat-option>
          <mat-option value="En pausa">En pausa</mat-option>
          <mat-option value="Cancelado">Cancelado</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field style="width: 400px" appearance="legacy">
        <mat-label> Observacion </mat-label>
        <input
          matInput
          autocomplete="off"
          formControlName="observacion"
          [(ngModel)]="lista.observacion"
        />
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-raised-button
        color="primary"
        routerLink="/dashboard/listar-matriculas"
        style="margin-right: 20px"
      >
        Volver
      </button>
      <button
        type="submit"
        [disabled]="form.invalid"
        mat-raised-button
        color="accent"
        (click)="agregar()"
      >
        Guardar
      </button>
    </mat-card-actions>
  </form>
</mat-card>
